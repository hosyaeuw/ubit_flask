(this.webpackJsonpinform_portal=this.webpackJsonpinform_portal||[]).push([[3],{407:function(e,t,n){"use strict";n.r(t);var a=n(22),i=n(0),c=n.n(i),o=n(30),r=n(7),s=n(97),d=n(1),m=function(e){var t=e.dispatch,n=e.useSelector,a=e.checkedItems,i=e.setCheckedItems,o=e.Table,r=n((function(e){return e.trainers.items}));return c.a.useEffect((function(){t(Object(s.c)()),i([])}),[t,i]),Object(d.jsx)(o,{headers:["\u0424\u0418\u041e","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","\u041b\u043e\u0433\u0438\u043d"],items:r,checkedItems:a,setCheckedItems:i,editUrl:"/admin/trainers/edit",deleteClick:function(e){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0440\u0435\u043d\u0435\u0440\u0430?")&&t(Object(s.b)(e))},data:["fio","phone","login"]})},u=n(99),l=function(e){var t=e.dispatch,n=e.useSelector,a=e.checkedItems,i=e.setCheckedItems,o=e.Table,r=n((function(e){return e.dancers.items}));return c.a.useEffect((function(){t(Object(u.c)()),i([])}),[t,i]),Object(d.jsx)(o,{headers:["\u0424\u0418\u041e","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","\u041b\u043e\u0433\u0438\u043d","\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"],items:r,checkedItems:a,setCheckedItems:i,editUrl:"/admin/dancers/edit",deleteClick:function(e){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0430\u043d\u0446\u043e\u0440\u0430?")&&t(Object(u.b)(e))},data:["fio","phone","login","birthday"]})},p=n(100),b=function(e){var t=e.dispatch,n=e.useSelector,a=e.checkedItems,i=e.setCheckedItems,o=e.Table,r=n((function(e){return e.news.items}));return c.a.useEffect((function(){t(Object(p.c)()),i([])}),[t,i]),Object(d.jsx)(o,{headers:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438","\u0414\u0430\u0442\u0430","\u0422\u0438\u043f \u043d\u043e\u0432\u043e\u0441\u0442\u0438"],items:r,checkedItems:a,setCheckedItems:i,editUrl:"/admin/news/edit",deleteClick:function(e){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c?")&&t(Object(p.b)(e))},data:["title","date","news_type"]})},f=n(98),h=function(e){var t=e.dispatch,n=e.useSelector,a=e.checkedItems,i=e.setCheckedItems,o=e.Table,r=n((function(e){return e.groups.items}));return c.a.useEffect((function(){t(Object(f.c)()),i([])}),[t,i]),Object(d.jsx)(o,{headers:["\u041e\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u0438 \u043b\u0435\u0442","\u0414\u043e \u0441\u043a\u043e\u043b\u044c\u043a\u0438 \u043b\u0435\u0442","\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"],items:r,checkedItems:a,setCheckedItems:i,editUrl:"/admin/groups/edit",deleteClick:function(e){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443?")&&t(Object(f.b)(e))},data:["from_age","age_to","price"]})},j=n(3),O=n(20),v=n(52),x=n(50),g=n.n(x),w=n(9),k=n.n(w),C=n(5),_=[{label:"\u0424\u0418\u041e",name:"fio",validation:"\u0424\u0418\u041e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:",name:"phone",validation:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}],S=function(e){var t=e.match.params.id,n=!t,a={},i={};Object(C.forEach)(_,(function(e){a[e.name]="",i[e.name]=v.b().required(e.validation)}));var o=v.a().shape(i),r=function(e,t,n){k.a.post("/api/trainers/add",e).then((function(){t(),n({})}))},s=function(e,n,a){e.id=t,k.a.put("/api/trainers/update/".concat(t),e).then((function(){n(),a({})}))},m=c.a.useRef(null);return c.a.useEffect((function(){n||k.a.get("/api/trainers/get/".concat(t)).then((function(e){var t=e.data,n=Object(C.map)(_,(function(e){return e.name}));Object(C.forEach)(n,(function(e){return m.current(e,t[e],!1)}))}))}),[n,t]),console.log(o),Object(d.jsx)(O.d,{initialValues:a,validationSchema:o,onSubmit:function(e,t){var a=t.setStatus,i=t.setSubmitting,c=t.resetForm;a(),n?r(e,i,c):s(e,i,c)},children:function(e){var t=e.errors,a=e.touched,i=e.isSubmitting,c=e.setFieldValue;return m.current=c,Object(d.jsxs)(O.c,{children:[Object(d.jsxs)("h1",{children:[n?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435"," \u0413\u0440\u0443\u043f\u043f\u044b"]}),Object(C.map)(_,(function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:e.label}),Object(d.jsxs)("div",{children:[Object(d.jsx)(O.b,{name:e.name,type:"text",className:g()("form-control",{"is-invalid":t[e.name]&&a[e.name]})}),Object(d.jsx)(O.a,{name:e.name,component:"div",className:"invalid-feedback"})]})]},e.name)})),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{type:"submit",disabled:i,children:n?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(d.jsx)(j.b,{to:"trainers/list",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})}})},I=n(11),y=n(53),E=function(e){var t=e.match.params.id,n=!t,i=c.a.useState([]),o=Object(a.a)(i,2),r=o[0],s=o[1],m={items:[{name:"title",validation:"\u041e\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u0438 \u043b\u0435\u0442 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",component:y.d,componentProps:{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",size:"m",view:"line",nameComponent:"title",id:"title",width:"available"}},{name:"news_type",validation:"\u0414\u043e \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0442 -  \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",component:y.g,componentProps:{label:"\u0422\u0438\u043f \u043d\u043e\u0432\u043e\u0441\u0442\u0438",nameComponent:"news_type",id:"news_type",size:"m",options:r,mode:"radio",view:"line",width:"available",placeholder:"\xa0"}},{name:"text",validation:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",component:y.f,componentProps:{nameComponent:"text",id:"text"}}]},u=function(e,t,n){k.a.post("/api/news/add",e).then((function(){t(),n({})}))},l=function(e,n,a){e.id=t,k.a.put("/api/news/update/".concat(t),e).then((function(){n(),a({})}))},p=c.a.useRef(null);return c.a.useEffect((function(){0===r.length&&k.a.get("/api/news_types/get_all").then((function(e){var t=e.data;s(Object(C.map)(t,(function(e){return{value:e.id,text:e.name}})))})),n||k.a.get("/api/news/get/".concat(t)).then((function(e){var t=e.data;console.log(t);var n=Object(C.map)(m.items,(function(e){return e.name}));Object(C.forEach)(n,(function(e){return p.current(e,t[e],!1)}))}))}),[r.length,n,t,m.items]),Object(d.jsx)(y.c,{formTitle:"".concat(n?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435"," \u043d\u043e\u0432\u043e\u0441\u0442\u0438"),FieldValueRefHandle:function(e){return p.current=e},formObj:m,onSubmit:function(e,t){var a=t.setStatus,i=t.setSubmitting,c=t.resetForm;a(),e.news_type_id=e.news_type[0],n?u(e,i,c):l(e,i,c)},BtnComponent:function(e){return Object(d.jsx)(y.a,Object(I.a)(Object(I.a)({},e),{},{isAddMode:n}))}})},T=function(e){var t=e.match,n=c.a.useState([]),i=Object(a.a)(n,2),o=i[0],r=i[1],s={items:[{name:"fio",validation:"\u0424\u0418\u041e - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",component:y.d,componentProps:{label:"\u0424\u0418\u041e",size:"m",view:"line",nameComponent:"fio",id:"fio",width:"available"}},{name:"phone",validation:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d -  \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",component:y.e,componentProps:{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",size:"m",view:"line",nameComponent:"phone",id:"phone",width:"available",mask:"+1 (111) 111 1111",placeholder:""}},{name:"birthday",validation:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",component:y.b,componentProps:{size:"m",label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",view:"line",placeholder:"\xa0",nameComponent:"birthday",id:"birthday",width:"available",calendar:{width:"available"}}},{name:"group_id",validation:"\u0413\u0440\u0443\u043f\u043f\u0430 -  \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",component:y.g,componentProps:{label:"\u0413\u0440\u0443\u043f\u043f\u0430",nameComponent:"group_id",id:"group_id",size:"m",placeholder:"\xa0",options:o,mode:"radio",view:"line",width:"available"}}]},m=t.params.id,u=!m,l=function(e,t,n){k.a.post("/api/dancers/add",e).then((function(){t(),n({})}))},p=function(e,t,n){e.id=m,k.a.put("/api/dancers/update/".concat(m),e).then((function(){t(),n({})}))},b=c.a.useRef(null);return c.a.useEffect((function(){0===o.length&&k.a.get("/api/groups/get_all").then((function(e){var t=e.data;r(Object(C.map)(t,(function(e){return{value:e.id,text:"".concat(e.from_age," - ").concat(e.age_to)}})))})),u||k.a.get("/api/dancers/get/".concat(m)).then((function(e){var t=e.data,n=Object(C.map)(s.items,(function(e){return e.name}));Object(C.forEach)(n,(function(e){return b.current(e,t[e],!1)}))}))}),[u,m,o.length,s.items]),Object(d.jsx)(y.c,{formObj:s,onSubmit:function(e,t){var n=t.setStatus,a=t.setSubmitting,i=t.resetForm;n(),e.group_id=e.group_id[0],u?l(e,a,i):p(e,a,i)},formTitle:"".concat(u?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435"," \u0442\u0430\u043d\u0446\u043e\u0440\u0430"),FieldValueRefHandle:function(e){return b.current=e},BtnComponent:function(e){return Object(d.jsx)(y.a,Object(I.a)(Object(I.a)({},e),{},{isAddMode:u}))}})},P={items:[{name:"from_age",validation:"\u041e\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u0438 \u043b\u0435\u0442 - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",component:y.d,componentProps:{label:"\u041e\u0442 \u0441\u043a\u043e\u043b\u044c\u043a\u0438 \u043b\u0435\u0442",size:"m",view:"line",nameComponent:"from_age",id:"from_age",width:"available"}},{name:"age_to",validation:"\u0414\u043e \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0442 -  \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",component:y.d,componentProps:{label:"\u0414\u043e \u0441\u043a\u043e\u043b\u044c\u043a\u0438 \u043b\u0435\u0442",size:"m",view:"line",nameComponent:"age_to",id:"age_to",width:"available"}},{name:"price",validation:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",component:y.d,componentProps:{label:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",size:"m",view:"line",nameComponent:"price",id:"price",width:"available"}}]},z=function(e){var t=e.match.params.id,n=!t,a=function(e,t,n){k.a.post("/api/groups/add",e).then((function(){t(),n({})}))},i=function(e,n,a){e.id=t,k.a.put("/api/groups/update/".concat(t),e).then((function(){n(),a({})}))},o=c.a.useRef(null);return c.a.useEffect((function(){n||k.a.get("/api/groups/get/".concat(t)).then((function(e){var t=e.data,n=Object(C.map)(P.items,(function(e){return e.name}));Object(C.forEach)(n,(function(e){return o.current(e,t[e],!1)}))}))}),[n,t]),Object(d.jsx)(y.c,{formTitle:"".concat(n?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435"," \u0433\u0440\u0443\u043f\u043f\u044b"),isAddMode:n,formObj:P,onSubmit:function(e,t){var c=t.setStatus,o=t.setSubmitting,r=t.resetForm;c(),n?a(e,o,r):i(e,o,r)},FieldValueRefHandle:function(e){return o.current=e},BtnComponent:function(e){return Object(d.jsx)(y.a,Object(I.a)(Object(I.a)({},e),{},{isAddMode:n}))}})};t.default=function(e){e.history;var t=Object(o.b)(),n=c.a.useState([]),i=Object(a.a)(n,2),s=i[0],u=i[1];return Object(d.jsxs)("div",{className:"admin-container",children:[Object(d.jsx)(y.h,{}),Object(d.jsxs)("div",{className:"admin-body",children:[Object(d.jsx)(y.j,{selectedDelete:function(e){}}),Object(d.jsxs)(r.d,{children:[Object(d.jsx)(r.a,{from:"/admin",to:"/admin/dancers",exact:!0}),Object(d.jsx)(r.b,{path:"/admin/dancers",render:function(){return Object(d.jsx)(l,{Table:y.i,checkedItems:s,dispatch:t,useSelector:o.c,setCheckedItems:u})},exact:!0}),Object(d.jsx)(r.b,{path:"/admin/dancers/add",component:T}),Object(d.jsx)(r.b,{path:"/admin/dancers/edit/:id",component:T}),Object(d.jsx)(r.b,{path:"/admin/trainers",render:function(){return Object(d.jsx)(m,{Table:y.i,checkedItems:s,dispatch:t,useSelector:o.c,setCheckedItems:u})},exact:!0}),Object(d.jsx)(r.b,{path:"/admin/trainers/add",component:S}),Object(d.jsx)(r.b,{path:"/admin/trainers/edit/:id",component:S}),Object(d.jsx)(r.b,{path:"/admin/news",render:function(){return Object(d.jsx)(b,{Table:y.i,checkedItems:s,dispatch:t,useSelector:o.c,setCheckedItems:u})},exact:!0}),Object(d.jsx)(r.b,{path:"/admin/news/add",component:E}),Object(d.jsx)(r.b,{path:"/admin/news/edit/:id",component:E}),Object(d.jsx)(r.b,{path:"/admin/groups",render:function(){return Object(d.jsx)(h,{Table:y.i,checkedItems:s,dispatch:t,useSelector:o.c,setCheckedItems:u})},exact:!0}),Object(d.jsx)(r.b,{path:"/admin/groups/add",component:z}),Object(d.jsx)(r.b,{path:"/admin/groups/edit/:id",component:z})]})]})]})}}}]);
//# sourceMappingURL=3.67d05a3e.chunk.js.map